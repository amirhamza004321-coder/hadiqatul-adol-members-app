<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HADIQATUL A'DOL Members</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    :root{
      --bg: #f4f6f9;
      --card: #ffffff;
      --text: #222;
      --accent: #4cafef;
    }
    body.dark{ --bg:#1e1e2f; --card:#2c2c3e; --text:#f9f9f9; --accent:#6ab4ff; }
    body.green{ --accent:#4caf50; }
    body.purple{ --accent:#9c27b0; }
    body.blue{ --accent:#3b82f6; }
    body.orange{ --accent:#fb923c; }
    body.teal{ --accent:#14b8a6; }

    body{ font-family: "Segoe UI", Roboto, Arial, sans-serif; margin:0; background:var(--bg); color:var(--text); transition:background .3s, color .3s; }
    header{ display:flex; align-items:center; justify-content:space-between; padding:14px 18px; background:var(--accent); color:#fff; }
    header h1{ margin:0; font-size:18px; }
    .menu{ font-size:22px; cursor:pointer; user-select:none; }
    .menu-options{ display:none; position:absolute; right:18px; top:60px; background:var(--card); padding:10px; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,.12); z-index:50; width:180px; }
    .menu-options .theme-title{ font-weight:600; margin:6px 0 8px; color:var(--text); }
    .menu-options .swatches{ display:flex; flex-wrap:wrap; gap:6px; }
    .swatch{ width:28px; height:28px; border-radius:6px; cursor:pointer; border:2px solid rgba(255,255,255,0.35); box-shadow:0 2px 6px rgba(0,0,0,.08); }
    .menu-options button{ display:block; width:100%; padding:8px 10px; margin-top:8px; border-radius:6px; border:none; background:var(--accent); color:white; cursor:pointer; }

    .container{ max-width:940px; margin:26px auto; padding:16px; }
    .search-box{ display:flex; gap:8px; justify-content:center; margin-bottom:18px; }
    .search-box input{ width:70%; padding:10px 12px; border-radius:8px; border:1px solid #ccc; }
    .search-box button{ padding:10px 14px; border-radius:8px; border:none; background:var(--accent); color:#fff; cursor:pointer; }

    h2{ color:var(--accent); margin-top:26px; margin-bottom:8px; }
    .list{ margin-top:8px; }
    .card{ background:var(--card); border-radius:10px; padding:12px; margin:8px 0; box-shadow:0 4px 12px rgba(0,0,0,.06); transition:transform .18s, background .18s; cursor:pointer; }
    .card:hover{ transform:scale(1.01); }
    .card .id{ font-weight:700; color:var(--text); }
    .details{ display:none; margin-top:8px; padding:10px; border-left:4px solid var(--accent); border-radius:6px; background:rgba(0,0,0,0.02); }
    .details p{ margin:6px 0; }
    .details .actions{ margin-top:8px; display:flex; gap:8px; flex-wrap:wrap; }
    .btn{ padding:8px 10px; border:none; border-radius:8px; cursor:pointer; background:var(--accent); color:#fff; }
    .btn.secondary{ background:#666; }
    .fav-btn.added{ background:#ffb703; color:#000; }

    /* Favorites section hidden by default */
    #favoritesSection{ display:none; }

    footer{ text-align:center; padding:16px; margin-top:26px; background:var(--card); border-top:3px solid var(--accent); }

    @media (max-width:520px){
      .search-box input{ width:60%; }
      .menu-options{ width:220px; right:10px; }
    }
  </style>
</head>
<body>
  <header>
    <h1>HADIQATUL A'DOL Members</h1>
    <div style="position:relative;">
      <div class="menu" onclick="toggleMenu()">‚ò∞</div>
      <div class="menu-options" id="menuOptions" aria-hidden="true">
        <div class="theme-title">Choose Theme</div>
        <div class="swatches" style="margin-bottom:8px;">
          <div class="swatch" title="Light" style="background:#f4f6f9" onclick="setTheme('light')"></div>
          <div class="swatch" title="Dark" style="background:#1e1e2f" onclick="setTheme('dark')"></div>
          <div class="swatch" title="Green" style="background:#4caf50" onclick="setTheme('green')"></div>
          <div class="swatch" title="Purple" style="background:#9c27b0" onclick="setTheme('purple')"></div>
          <div class="swatch" title="Blue" style="background:#3b82f6" onclick="setTheme('blue')"></div>
          <div class="swatch" title="Orange" style="background:#fb923c" onclick="setTheme('orange')"></div>
          <div class="swatch" title="Teal" style="background:#14b8a6" onclick="setTheme('teal')"></div>
        </div>
        <button onclick="showFavorites()">View Favorites ‚≠ê</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- MAIN CONTENT -->
    <div id="mainContent">
      <div class="search-box">
        <input id="searchInput" type="text" placeholder="Search by ID or name (type to filter)">
        <button onclick="performSearch()">Search</button>
      </div>

      <section>
        <h2>Admin</h2>
        <div class="list" id="adminList">
          <div class="card" data-id="HA-25X9Q7-01" data-name="Md Amir Hamza">
            <div class="id">HA-25X9Q7-01</div>
            <div class="details">
              <p><strong>Full Name:</strong> Md Amir Hamza (Admin)</p>
              <p><strong>Address:</strong> Johirpur, Chhatak, Sunamgonj</p>
              <p><strong>Member Id:</strong> HA-25X9Q7-01</p>
              <div class="actions">
                <button class="btn fav-btn" data-id="HA-25X9Q7-01" onclick="toggleFavorite('HA-25X9Q7-01', event)">‚≠ê Favorite</button>
                <button class="btn" onclick="copyToClipboard('HA-25X9Q7-01', event)">üìã Copy</button>
                <button class="btn" onclick="downloadPDF('HA-25X9Q7-01', event)">üìë PDF</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section>
        <h2>Members</h2>
        <div class="list" id="memberList">
          <div class="card" data-id="HA-25K4M2-02" data-name="Munaim Ahmed Ihfaz">
            <div class="id">HA-25K4M2-02</div>
            <div class="details">
              <p><strong>Full Name:</strong> Munaim Ahmed Ihfaz (Member)</p>
              <p><strong>Address:</strong> Bade Jhigli, Chhatak, Sunamgonj</p>
              <p><strong>Member Id:</strong> HA-25K4M2-02</p>
              <div class="actions">
                <button class="btn fav-btn" data-id="HA-25K4M2-02" onclick="toggleFavorite('HA-25K4M2-02', event)">‚≠ê Favorite</button>
                <button class="btn" onclick="copyToClipboard('HA-25K4M2-02', event)">üìã Copy</button>
                <button class="btn" onclick="downloadPDF('HA-25K4M2-02', event)">üìë PDF</button>
              </div>
            </div>
          </div>

          <div class="card" data-id="HA-25Z7L8-03" data-name="Minhaz Uddin Kadir">
            <div class="id">HA-25Z7L8-03</div>
            <div class="details">
              <p><strong>Full Name:</strong> Minhaz Uddin Kadir (Member)</p>
              <p><strong>Address:</strong> Bade Jhigli (Kandal Para), Chhatak, Sunamgonj</p>
              <p><strong>Member Id:</strong> HA-25Z7L8-03</p>
              <div class="actions">
                <button class="btn fav-btn" data-id="HA-25Z7L8-03" onclick="toggleFavorite('HA-25Z7L8-03', event)">‚≠ê Favorite</button>
                <button class="btn" onclick="copyToClipboard('HA-25Z7L8-03', event)">üìã Copy</button>
                <button class="btn" onclick="downloadPDF('HA-25Z7L8-03', event)">üìë PDF</button>
              </div>
            </div>
          </div>

          <div class="card" data-id="HA-25R6P5-04" data-name="Ebrahim Jamal Abdullah">
            <div class="id">HA-25R6P5-04</div>
            <div class="details">
              <p><strong>Full Name:</strong> Ebrahim Jamal Abdullah (Member)</p>
              <p><strong>Address:</strong> Boratuka, Chhatak, Sunamgonj</p>
              <p><strong>Member Id:</strong> HA-25R6P5-04</p>
              <div class="actions">
                <button class="btn fav-btn" data-id="HA-25R6P5-04" onclick="toggleFavorite('HA-25R6P5-04', event)">‚≠ê Favorite</button>
                <button class="btn" onclick="copyToClipboard('HA-25R6P5-04', event)">üìã Copy</button>
                <button class="btn" onclick="downloadPDF('HA-25R6P5-04', event)">üìë PDF</button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- FAVORITES (hidden, toggled) -->
    <div id="favoritesSection">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2>‚≠ê Favorite Members</h2>
        <div>
          <button class="btn secondary" onclick="goHome()">üè† Back</button>
        </div>
      </div>
      <div id="favList" style="margin-top:12px;"></div>
    </div>
  </main>

  <footer>
    <p>¬© HADIQATUL A'DOL 2025 | Developed by Md Amir Hamza</p>
  </footer>

<script>
  // DATA
  const data = {
    "HA-25X9Q7-01": {name:"Md Amir Hamza (Admin)", address:"Johirpur, Chhatak, Sunamgonj", id:"HA-25X9Q7-01"},
    "HA-25K4M2-02": {name:"Munaim Ahmed Ihfaz (Member)", address:"Bade Jhigli, Chhatak, Sunamgonj", id:"HA-25K4M2-02"},
    "HA-25Z7L8-03": {name:"Minhaz Uddin Kadir (Member)", address:"Bade Jhigli (Kandal Para), Chhatak, Sunamgonj", id:"HA-25Z7L8-03"},
    "HA-25R6P5-04": {name:"Ebrahim Jamal Abdullah (Member)", address:"Boratuka, Chhatak, Sunamgonj", id:"HA-25R6P5-04"}
  };

  // UI helpers
  function toggleMenu(){
    const m = document.getElementById('menuOptions');
    m.style.display = (m.style.display === 'block') ? 'none' : 'block';
  }

  function setTheme(mode){
    document.body.className = mode === 'light' ? '' : mode;
    localStorage.setItem('had_theme', mode);
    document.getElementById('menuOptions').style.display = 'none';
    updateAccentUI();
  }

  function updateAccentUI(){
    // could be used to update dynamic elements if needed
  }

  // load saved theme
  window.addEventListener('load', ()=>{
    const saved = localStorage.getItem('had_theme');
    if(saved) setTheme(saved);
    initCards();
    updateFavButtons();
  });

  // Card interactions
  function initCards(){
    document.querySelectorAll('.card').forEach(card=>{
      const id = card.getAttribute('data-id');
      card.addEventListener('click', (e)=>{
        // prevent toggle when clicking buttons inside
        if(e.target.closest('button')) return;
        const details = card.querySelector('.details');
        details.style.display = details.style.display === 'block' ? 'none' : 'block';
      });
    });
  }

  // SEARCH: live filter by id or name
  document.getElementById('searchInput').addEventListener('input', function(){
    const q = this.value.trim().toLowerCase();
    document.querySelectorAll('.card').forEach(card=>{
      const id = card.dataset.id.toLowerCase();
      const name = card.dataset.name.toLowerCase();
      const show = id.includes(q) || name.includes(q);
      card.style.display = show ? 'block' : 'none';
    });
    // clear search result area
    document.getElementById('searchResult').innerHTML = '';
  });

  function performSearch(){
    // fallback when user presses Search button - show first exact match or alert
    const q = document.getElementById('searchInput').value.trim();
    if(!q) return;
    const key = Object.keys(data).find(k => k.toLowerCase() === q.toLowerCase() || data[k].name.toLowerCase() === q.toLowerCase());
    if(key){
      // open its details and scroll into view
      const card = document.querySelector(`.card[data-id="${key}"]`);
      if(card){
        card.scrollIntoView({behavior:'smooth', block:'center'});
        const det = card.querySelector('.details');
        det.style.display = 'block';
      }
    } else {
      const sr = document.getElementById('searchResult');
      sr.innerHTML = `<p style="color:red; text-align:center">No member found for "<strong>${q}</strong>"</p>`;
    }
  }

  // FAVORITES
  function toggleFavorite(id, e){
    if(e) e.stopPropagation();
    let favs = JSON.parse(localStorage.getItem('favorites') || '[]');
    const idx = favs.indexOf(id);
    if(idx === -1){
      favs.push(id);
      alert('‚≠ê Added to Favorites');
    } else {
      favs.splice(idx,1);
      alert('‚ùå Removed from Favorites');
    }
    localStorage.setItem('favorites', JSON.stringify(favs));
    updateFavButtons();
  }

  function updateFavButtons(){
    const favs = JSON.parse(localStorage.getItem('favorites') || '[]');
    document.querySelectorAll('.fav-btn').forEach(btn=>{
      const id = btn.getAttribute('data-id');
      if(favs.includes(id)){
        btn.classList.add('added');
        btn.textContent = '‚ûñ Unfavorite';
      } else {
        btn.classList.remove('added');
        btn.textContent = '‚≠ê Favorite';
      }
    });
  }

  function showFavorites(){
    const favs = JSON.parse(localStorage.getItem('favorites') || '[]');
    const favList = document.getElementById('favList');
    favList.innerHTML = '';
    if(favs.length === 0){
      favList.innerHTML = "<p style='color:gray;text-align:center'>No favorites added.</p>";
    } else {
      favs.forEach(id=>{
        const m = data[id];
        if(!m) return;
        const div = document.createElement('div');
        div.className = 'card';
        div.innerHTML = `<div class="id">${m.id}</div>
          <div class="details" style="display:block">
            <p><strong>Full Name:</strong> ${m.name}</p>
            <p><strong>Address:</strong> ${m.address}</p>
            <p><strong>Member Id:</strong> ${m.id}</p>
            <div class="actions">
              <button class="btn" onclick="copyToClipboard('${m.id}', event)">üìã Copy</button>
              <button class="btn" onclick="downloadPDF('${m.id}', event)">üìë PDF</button>
              <button class="btn secondary" onclick="removeFavorite('${m.id}', event)">‚ùå Remove</button>
            </div>
          </div>`;
        favList.appendChild(div);
      });
    }
    // toggle sections
    document.getElementById('mainContent').style.display = 'none';
    document.getElementById('favoritesSection').style.display = 'block';
    document.getElementById('menuOptions').style.display = 'none';
    updateFavButtons();
  }

  function removeFavorite(id, e){
    if(e) e.stopPropagation();
    let favs = JSON.parse(localStorage.getItem('favorites') || '[]');
    favs = favs.filter(f=> f !== id);
    localStorage.setItem('favorites', JSON.stringify(favs));
    showFavorites();
  }

  function goHome(){
    document.getElementById('favoritesSection').style.display = 'none';
    document.getElementById('mainContent').style.display = 'block';
    document.getElementById('menuOptions').style.display = 'none';
    updateFavButtons();
  }

  // COPY to clipboard (share option replaced)
  function copyToClipboard(id, e){
    if(e) e.stopPropagation();
    const m = data[id];
    if(!m) return;
    const text = `Full Name: ${m.name}\nAddress: ${m.address}\nMember ID: ${m.id}`;
    navigator.clipboard.writeText(text).then(()=>{
      alert('Copied to clipboard!');
    }).catch(()=>{
      alert('Could not copy to clipboard');
    });
  }

  // PDF (styled)
  async function downloadPDF(id, e){
    if(e) e.stopPropagation();
    const m = data[id];
    if(!m){
      alert('Member not found');
      return;
    }
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF({unit:'pt', format:'a4'});
    const pageW = doc.internal.pageSize.getWidth();
    // header band
    doc.setFillColor(76,175,239);
    doc.rect(0,0,pageW,70,'F');
    doc.setTextColor(255,255,255);
    doc.setFontSize(20);
    doc.setFont('helvetica','bold');
    doc.text('HADIQATUL A\'DOL', pageW/2, 40, {align:'center'});
    // content box
    doc.setDrawColor(200);
    doc.setFillColor(255,255,255);
    doc.roundedRect(40,90,pageW-80,220,8,8,'F');
    let xLabel = 60, xVal = 160, y = 120;
    doc.setTextColor(30,30,30);
    doc.setFont('helvetica','bold');
    doc.setFontSize(12);
    doc.text('Full Name:', xLabel, y);
    doc.setFont('helvetica','normal');
    doc.setFontSize(13);
    doc.text(m.name, xVal, y);
    y += 28;
    doc.setFont('helvetica','bold'); doc.setFontSize(12); doc.text('Address:', xLabel, y);
    doc.setFont('helvetica','normal'); doc.setFontSize(12);
    const splitAddr = doc.splitTextToSize(m.address, pageW - xVal - 60);
    doc.text(splitAddr, xVal, y);
    y += (splitAddr.length * 14) + 6;
    doc.setFont('helvetica','bold'); doc.setFontSize(12); doc.text('Member Id:', xLabel, y);
    doc.setFont('helvetica','normal'); doc.setFontSize(12); doc.text(m.id, xVal, y);
    // footer small
    doc.setFontSize(9); doc.setTextColor(120);
    doc.text('¬© HADIQATUL A\'DOL 2025 | Developed by Md Amir Hamza', pageW/2, doc.internal.pageSize.getHeight()-40, {align:'center'});
    doc.save(`${m.id}.pdf`);
  }

  // Close menu if click outside
  document.addEventListener('click', (e)=>{
    const menu = document.getElementById('menuOptions');
    if(!e.target.closest('.menu') && !e.target.closest('.menu-options')){
      menu.style.display = 'none';
    }
  });
</script>
</body>
</html>